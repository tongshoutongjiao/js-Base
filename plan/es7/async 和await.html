<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>async和await</title>
</head>
<body>
<div>

</div>
<script type="text/javascript">
    async function timeout(flag) {
        if(flag){
            return  'hello world'
        }else {
            throw 'My god failure'
        }
    }
    console.log(timeout(true));
    console.log(timeout(false));
    timeout(false).catch(err=>{
        console.log(err)
    });

    timeout().then(res=>{

        console.log(res);
    });
    console.log('虽然在后边，但是我先执行');




    function doubleAfter2second(num) {
        return new Promise((resolve,reject)=>{
            setTimeout(()=>{
                resolve(2*num)
            },2000)
        })
    }

    async function testResult() {
        let first = await doubleAfter2second(30);
        let second = await doubleAfter2second(50);
        let third = await doubleAfter2second(30);
        console.log(first + second + third);
    }

    testResult();



</script>
</body>
</html>